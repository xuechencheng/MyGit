23 垃圾收集
弱引用表，析构器和函数collectgarbage是在Lua语言中用来辅助垃圾收集器的主要机制。
弱引用表允许收集Lua语言中还可以被程序访问的对象。
析构器允许收集不在垃圾收集器直接控制下的外部对象。
函数collectgarbage则允许我们控制垃圾收集器的步长。

23.1 弱引用表
如果一个对象的所有引用都是弱引用，那么垃圾收集器将会回收这个对象并删除这些弱引用。
Lua用语言通过弱引用表实现弱引用，弱引用表就是元素均为弱引用的表。
在一个弱引用表中，键和值都可以是弱引用的。这就意味着有三种类型的弱引用表。
无论是哪种类型的弱引用表，只要有一个键或值被回收了，那么对应的整个键值对都会被从表中删除。
一个表是否为弱引用表是由其元表中的__mode字段所决定的。
当这个字段存在时，其值对应为一个字符串：如果这个字符串是“k”，那么这个表的键是弱引用，“v”和“kv”同理。
只有对象可以从弱引用表中被移除，而像数字，字符串和布尔这样的值是不可回收的。

23.2 记忆函数
通过记忆函数的执行结果，在后续使用相同参数再次调用该函数时直接返回之前记忆的结果。

