第9章 闭包
可以将某个函数保存到变量中或表中，也可以将某个函数作为参数传递给其他函数，还可以将某个函数作为其他函数的返回值返回。
词法定界一位置Lua语言中的函数可以访问包含其自身的外部函数中的变量。
Lua中函数的两个特性：第一类值和词法定界。

9.1 函数是第一个类值
function foo(x) return 2 * x end 等价于 foo = function(x) return 2 * x end

9.2 非全局函数

9.3 词法定界
当编写一个被其他函数B包含的函数A时，被包含的函数A可以访问包含其他的函数B的所有局部变量，我们将这种特性称为词法定界。
函数A中访问的函数B的局部变量称为非局部变量也称为上值。
这一点之所以如此有趣是因为，函数作为第一类值，能够逃逸出它们变量的原始定界范围。
从技术上讲，Lua语言中只有闭包而没有函数。
闭包在很多场合都很有用，比如sort函数，按钮的回调函数，重新定义函数。
编程：创建安全的运行时环境

9.4 小试函数式编程


















